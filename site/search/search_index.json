{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Taskfile Help","text":"<p>A dynamic Taskfile help generator that parses Taskfile YAML files and outputs organized, colored help text similar to <code>task --list</code>, but with automatic grouping and namespace support.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>\ud83c\udfa8 Colored Output: Automatic color support with TTY detection</li> <li>\ud83d\udce6 Namespace Support: Organize tasks across multiple Taskfiles</li> <li>\ud83d\udd0d Smart Search: Search multiple directories for Taskfiles</li> <li>\ud83d\udcca JSON Output: Export task information in JSON format</li> <li>\ud83c\udfaf Group Organization: Automatic task grouping using comment markers</li> <li>\ud83d\udd12 Internal Tasks: Hide implementation details with <code>internal: true</code></li> <li>\u26a1 Fast: Simple line-by-line parsing without full YAML overhead</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Install the package:</p> <pre><code>pip install taskfile-help\n</code></pre> <p>Show help for your main Taskfile:</p> <pre><code>taskfile-help\n</code></pre> <p>Show help for a specific namespace:</p> <pre><code>taskfile-help dev\n</code></pre> <p>Show all available tasks across all Taskfiles:</p> <pre><code>taskfile-help all\n</code></pre>"},{"location":"#example-output","title":"Example Output","text":"<pre><code>=== Build ===\n  build         Build the project\n  compile       Compile sources\n\n=== Testing ===\n  test          Run tests\n  test:unit     Run unit tests only\n  test:e2e      Run end-to-end tests\n</code></pre>"},{"location":"#why-taskfile-help","title":"Why Taskfile Help?","text":"<p>The built-in <code>task --list</code> command is useful, but has limitations:</p> <ul> <li>No automatic grouping of related tasks</li> <li>No namespace support for multiple Taskfiles</li> <li>Limited customization options</li> </ul> <p>taskfile-help solves these problems by providing:</p> <ul> <li>Automatic task grouping using comment markers</li> <li>Support for multiple Taskfiles with namespaces</li> <li>Flexible search paths and configuration</li> <li>JSON output for integration with other tools</li> <li>Consistent color handling (respects TTY detection)</li> </ul>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Installation Guide - Detailed installation instructions</li> <li>Quick Start - Get up and running quickly</li> <li>Configuration - Configure taskfile-help for your project</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"development/architecture/","title":"Architecture","text":"<p>taskfile-help is designed with simplicity and performance in mind. It uses a modular architecture with clear separation of concerns.</p>"},{"location":"development/architecture/#overview","title":"Overview","text":"<pre><code>graph TD\n    A[CLI Entry Point] --&gt; B[Config]\n    B --&gt; C[Discovery]\n    B --&gt; D[Outputter]\n    C --&gt; E[Parser]\n    E --&gt; F[Tasks]\n    F --&gt; D\n    D --&gt; G[Output]</code></pre>"},{"location":"development/architecture/#components","title":"Components","text":""},{"location":"development/architecture/#1-entry-point-taskfile_helppy","title":"1. Entry Point (<code>taskfile_help.py</code>)","text":"<p>The main entry point that orchestrates the application flow:</p> <ul> <li>Parses command-line arguments</li> <li>Initializes configuration</li> <li>Selects appropriate outputter</li> <li>Coordinates task discovery and parsing</li> <li>Handles error cases</li> </ul> <p>Key Function: <code>main(argv: list[str] | None = None) -&gt; int</code></p>"},{"location":"development/architecture/#2-configuration-configpy","title":"2. Configuration (<code>config.py</code>)","text":"<p>Manages application configuration from multiple sources:</p> <ul> <li>Command-line arguments (via <code>argparse</code>)</li> <li><code>pyproject.toml</code> configuration file</li> <li>Default values</li> </ul> <p>Classes:</p> <ul> <li><code>Args</code>: Parsed command-line arguments</li> <li><code>Config</code>: Combined configuration with derived values</li> </ul> <p>Features:</p> <ul> <li>TTY detection for color support</li> <li>Search directory resolution</li> <li>Configuration priority handling</li> </ul>"},{"location":"development/architecture/#3-discovery-discoverypy","title":"3. Discovery (<code>discovery.py</code>)","text":"<p>Handles Taskfile discovery across search paths:</p> <ul> <li>Finds main Taskfile (<code>Taskfile.yml</code> or <code>Taskfile.yaml</code>)</li> <li>Finds namespace Taskfiles (<code>Taskfile-&lt;namespace&gt;.yml</code>)</li> <li>Searches multiple directories</li> <li>Returns first match (priority-based)</li> </ul> <p>Class: <code>TaskfileDiscovery</code></p> <p>Methods:</p> <ul> <li><code>find_main_taskfile() -&gt; Path | None</code></li> <li><code>find_namespace_taskfile(namespace: str) -&gt; Path | None</code></li> <li><code>get_all_namespace_taskfiles() -&gt; list[tuple[str, Path]]</code></li> <li><code>get_possible_paths(namespace: str) -&gt; list[Path]</code></li> </ul>"},{"location":"development/architecture/#4-parser-parserpy","title":"4. Parser (<code>parser.py</code>)","text":"<p>Line-by-line Taskfile parser (not a full YAML parser):</p> <ul> <li>Extracts task names and descriptions</li> <li>Identifies group markers (<code># === Group Name ===</code>)</li> <li>Detects internal tasks (<code>internal: true</code>)</li> <li>Preserves task order</li> </ul> <p>Key Function: <code>parse_taskfile(filepath: Path, namespace: str, outputter: Outputter) -&gt; list[tuple[str, str, str]]</code></p> <p>Returns: List of <code>(group, task_name, description)</code> tuples</p> <p>Helper Functions:</p> <ul> <li><code>_extract_task_name(line: str) -&gt; str | None</code></li> <li><code>_extract_description(line: str) -&gt; str | None</code></li> <li><code>_is_internal_task(line: str) -&gt; bool</code></li> <li><code>_save_task_if_valid(...) -&gt; None</code></li> </ul>"},{"location":"development/architecture/#5-output-outputpy","title":"5. Output (<code>output.py</code>)","text":"<p>Handles output formatting with multiple strategies:</p> <p>Protocol: <code>Outputter</code></p> <ul> <li>Defines interface for output implementations</li> <li>Methods: <code>output_single()</code>, <code>output_all()</code>, <code>output_error()</code>, etc.</li> </ul> <p>Implementations:</p>"},{"location":"development/architecture/#textoutputter","title":"TextOutputter","text":"<ul> <li>Colored terminal output</li> <li>Group headers with formatting</li> <li>Task list with descriptions</li> <li>Respects color settings</li> </ul>"},{"location":"development/architecture/#jsonoutputter","title":"JsonOutputter","text":"<ul> <li>Structured JSON output</li> <li>Task metadata (group, name, full_name, description)</li> <li>No color codes</li> <li>Machine-readable format</li> </ul> <p>Color Management: <code>Colors</code> class</p> <ul> <li>ANSI color codes</li> <li>Global enable/disable</li> <li>TTY-aware</li> </ul>"},{"location":"development/architecture/#data-flow","title":"Data Flow","text":""},{"location":"development/architecture/#1-initialization","title":"1. Initialization","text":"<pre><code># Parse arguments and load config\nconfig = Config(argv)\n\n# Select outputter\noutputter = JsonOutputter() if config.args.json_output else TextOutputter()\n\n# Disable colors if needed\nif not config.colorize or config.args.json_output:\n    Colors.disable()\n</code></pre>"},{"location":"development/architecture/#2-discovery","title":"2. Discovery","text":"<pre><code># Find Taskfile\nif namespace:\n    taskfile = config.discovery.find_namespace_taskfile(namespace)\nelse:\n    taskfile = config.discovery.find_main_taskfile()\n</code></pre>"},{"location":"development/architecture/#3-parsing","title":"3. Parsing","text":"<pre><code># Parse tasks\ntasks = parse_taskfile(taskfile, namespace, outputter)\n# Returns: [(group, task_name, description), ...]\n</code></pre>"},{"location":"development/architecture/#4-output","title":"4. Output","text":"<pre><code># Display results\noutputter.output_single(namespace, tasks)\n</code></pre>"},{"location":"development/architecture/#design-decisions","title":"Design Decisions","text":""},{"location":"development/architecture/#why-not-full-yaml-parser","title":"Why Not Full YAML Parser?","text":"<ul> <li>Performance: Line-by-line parsing is faster</li> <li>Simplicity: No external dependencies</li> <li>Sufficient: Only need task names and descriptions</li> <li>Robust: Handles malformed YAML gracefully</li> </ul>"},{"location":"development/architecture/#why-protocol-based-outputters","title":"Why Protocol-Based Outputters?","text":"<ul> <li>Extensibility: Easy to add new output formats</li> <li>Testability: Mock outputters for testing</li> <li>Separation: Output logic separate from business logic</li> <li>Type Safety: Protocol ensures interface compliance</li> </ul>"},{"location":"development/architecture/#why-multiple-search-directories","title":"Why Multiple Search Directories?","text":"<ul> <li>Flexibility: Support shared task libraries</li> <li>Monorepos: Search across multiple projects</li> <li>Reusability: Common tasks in shared locations</li> <li>Priority: First match wins (explicit ordering)</li> </ul>"},{"location":"development/architecture/#why-namespace-support","title":"Why Namespace Support?","text":"<ul> <li>Organization: Separate concerns (dev, test, deploy)</li> <li>Clarity: Clear task ownership</li> <li>Scalability: Large projects with many tasks</li> <li>Modularity: Independent Taskfile management</li> </ul>"},{"location":"development/architecture/#error-handling","title":"Error Handling","text":""},{"location":"development/architecture/#graceful-degradation","title":"Graceful Degradation","text":"<ul> <li>Missing Taskfile: Clear error message with tried paths</li> <li>Parse errors: Log warning, continue processing</li> <li>Invalid namespace: Suggest available namespaces</li> <li>No tasks found: Empty output (not an error)</li> </ul>"},{"location":"development/architecture/#exit-codes","title":"Exit Codes","text":"<ul> <li><code>0</code>: Success</li> <li><code>1</code>: Error (Taskfile not found, invalid namespace, etc.)</li> </ul>"},{"location":"development/architecture/#testing-strategy","title":"Testing Strategy","text":""},{"location":"development/architecture/#unit-tests","title":"Unit Tests","text":"<ul> <li>Individual function testing</li> <li>Mock dependencies</li> <li>Edge case coverage</li> <li>Fast execution</li> </ul>"},{"location":"development/architecture/#end-to-end-tests","title":"End-to-End Tests","text":"<ul> <li>Full CLI invocation</li> <li>Subprocess testing</li> <li>Real Taskfile parsing</li> <li>Integration verification</li> </ul>"},{"location":"development/architecture/#test-organization","title":"Test Organization","text":"<pre><code>tests/\n\u251c\u2500\u2500 unit/           # Unit tests\n\u2502   \u251c\u2500\u2500 test_config.py\n\u2502   \u251c\u2500\u2500 test_discovery.py\n\u2502   \u251c\u2500\u2500 test_output.py\n\u2502   \u251c\u2500\u2500 test_parser.py\n\u2502   \u2514\u2500\u2500 test_taskfile_help.py\n\u2514\u2500\u2500 e2e/            # End-to-end tests\n    \u2514\u2500\u2500 test_cli.py\n</code></pre>"},{"location":"development/architecture/#performance-characteristics","title":"Performance Characteristics","text":"<ul> <li>Startup: &lt; 50ms (no heavy dependencies)</li> <li>Parsing: O(n) where n = number of lines</li> <li>Memory: Minimal (streaming line-by-line)</li> <li>Disk I/O: Single file read per Taskfile</li> </ul>"},{"location":"development/architecture/#future-extensibility","title":"Future Extensibility","text":"<p>Potential enhancements:</p> <ol> <li>Additional Output Formats: XML, YAML, Markdown</li> <li>Caching: Cache parsed results for large Taskfiles</li> <li>Validation: Validate Taskfile structure</li> <li>Auto-completion: Shell completion support</li> <li>Task Dependencies: Show task dependency graph</li> </ol>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Thank you for considering contributing to taskfile-help!</p>"},{"location":"development/contributing/#how-to-contribute","title":"How to Contribute","text":""},{"location":"development/contributing/#reporting-bugs","title":"Reporting Bugs","text":"<ol> <li>Check existing issues</li> <li>Create a new issue with:</li> <li>Clear title</li> <li>Steps to reproduce</li> <li>Expected vs actual behavior</li> <li>Environment details</li> </ol>"},{"location":"development/contributing/#suggesting-features","title":"Suggesting Features","text":"<ol> <li>Check existing feature requests</li> <li>Create a new issue describing:</li> <li>Use case</li> <li>Proposed solution</li> <li>Alternative approaches</li> </ol>"},{"location":"development/contributing/#submitting-pull-requests","title":"Submitting Pull Requests","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Add tests</li> <li>Update documentation</li> <li>Run all checks: <code>task make</code></li> <li>Submit pull request</li> </ol>"},{"location":"development/contributing/#development-process","title":"Development Process","text":"<ol> <li>Setup: Follow the Development Guide</li> <li>Code: Write clean, tested code</li> <li>Test: Ensure &gt;90% coverage</li> <li>Document: Update relevant docs</li> <li>Review: Address feedback</li> </ol>"},{"location":"development/contributing/#code-standards","title":"Code Standards","text":"<ul> <li>Type hints: All functions must have type hints</li> <li>Docstrings: Use Google-style docstrings</li> <li>Tests: Unit tests for all new code</li> <li>Formatting: Use ruff for formatting</li> <li>Linting: Pass all linters (ruff, mypy, pylint)</li> </ul>"},{"location":"development/contributing/#commit-messages","title":"Commit Messages","text":"<p>Use conventional commits:</p> <ul> <li><code>feat:</code> New feature</li> <li><code>fix:</code> Bug fix</li> <li><code>docs:</code> Documentation</li> <li><code>test:</code> Tests</li> <li><code>refactor:</code> Refactoring</li> <li><code>chore:</code> Maintenance</li> </ul>"},{"location":"development/contributing/#questions","title":"Questions?","text":"<ul> <li>Open a discussion on GitHub</li> <li>Check existing documentation</li> <li>Review closed issues</li> </ul>"},{"location":"development/guide/","title":"Development Guide","text":"<p>This guide covers setting up a development environment and contributing to taskfile-help.</p>"},{"location":"development/guide/#development-setup","title":"Development Setup","text":""},{"location":"development/guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher</li> <li>uv (recommended) or pip</li> <li>Git</li> </ul>"},{"location":"development/guide/#clone-and-install","title":"Clone and Install","text":"<pre><code># Clone the repository\ngit clone https://github.com/royw/taskfile-help.git\ncd taskfile-help\n\n# Install with development dependencies using uv\nuv sync --dev\n\n# Or using pip\npip install -e \".[dev]\"\n</code></pre>"},{"location":"development/guide/#development-dependencies","title":"Development Dependencies","text":"<p>The project includes these development tools:</p> <ul> <li>pytest: Testing framework</li> <li>pytest-cov: Coverage reporting</li> <li>mypy: Static type checking</li> <li>ruff: Linting and formatting</li> <li>pylint: Additional linting</li> <li>pymarkdownlnt: Markdown linting</li> <li>deadcode: Dead code detection</li> <li>radon: Code complexity analysis</li> </ul>"},{"location":"development/guide/#project-structure","title":"Project Structure","text":"<pre><code>taskfile-help/\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 taskfile_help/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 __main__.py         # Module entry point\n\u2502       \u251c\u2500\u2500 taskfile_help.py    # Main entry point\n\u2502       \u251c\u2500\u2500 config.py            # Configuration management\n\u2502       \u251c\u2500\u2500 discovery.py         # Taskfile discovery\n\u2502       \u251c\u2500\u2500 parser.py            # Taskfile parsing\n\u2502       \u2514\u2500\u2500 output.py            # Output formatting\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 unit/                    # Unit tests\n\u2502   \u2502   \u251c\u2500\u2500 test_config.py\n\u2502   \u2502   \u251c\u2500\u2500 test_discovery.py\n\u2502   \u2502   \u251c\u2500\u2500 test_output.py\n\u2502   \u2502   \u251c\u2500\u2500 test_parser.py\n\u2502   \u2502   \u2514\u2500\u2500 test_taskfile_help.py\n\u2502   \u2514\u2500\u2500 e2e/                     # End-to-end tests\n\u2502       \u2514\u2500\u2500 test_cli.py\n\u251c\u2500\u2500 docs/                        # Documentation\n\u251c\u2500\u2500 pyproject.toml              # Project configuration\n\u251c\u2500\u2500 Taskfile.yml                # Development tasks\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"development/guide/#development-workflow","title":"Development Workflow","text":""},{"location":"development/guide/#using-task-recommended","title":"Using Task (Recommended)","text":"<p>The project includes a Taskfile with common development tasks:</p> <pre><code># Show available tasks\ntask help\n\n# Run all checks (format, lint, test)\ntask make\n\n# Format code\ntask format\n\n# Run linters\ntask lint\n\n# Run tests\ntask test\n\n# Run tests with coverage\ntask test:coverage\n\n# Build documentation\ntask docs:build\n\n# Serve documentation locally\ntask docs:serve\n\n# Build distribution packages\ntask build\n</code></pre>"},{"location":"development/guide/#manual-commands","title":"Manual Commands","text":"<p>If you prefer not to use Task:</p> <pre><code># Format code\nuv run ruff format src/\nuv run ruff check --fix src/\n\n# Type checking\nuv run mypy src/\n\n# Linting\nuv run ruff check src/\nuv run pylint src/\n\n# Run tests\nuv run pytest\n\n# Run tests with coverage\nuv run pytest --cov=src/taskfile_help --cov-report=html\n\n# Build package\nuv build\n</code></pre>"},{"location":"development/guide/#testing","title":"Testing","text":""},{"location":"development/guide/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\nuv run pytest\n\n# Run specific test file\nuv run pytest tests/unit/test_parser.py\n\n# Run specific test\nuv run pytest tests/unit/test_parser.py::TestParseTaskfile::test_parse_simple_taskfile\n\n# Run with coverage\nuv run pytest --cov=src/taskfile_help --cov-report=html\n\n# Run only unit tests\nuv run pytest tests/unit/\n\n# Run only e2e tests\nuv run pytest tests/e2e/\n</code></pre>"},{"location":"development/guide/#writing-tests","title":"Writing Tests","text":""},{"location":"development/guide/#unit-tests","title":"Unit Tests","text":"<pre><code>from pathlib import Path\nimport pytest\nfrom taskfile_help.parser import parse_taskfile\nfrom taskfile_help.output import TextOutputter\n\ndef test_parse_simple_taskfile(tmp_path: Path) -&gt; None:\n    \"\"\"Test parsing a simple Taskfile.\"\"\"\n    taskfile = tmp_path / \"Taskfile.yml\"\n    taskfile.write_text(\"\"\"version: '3'\n\ntasks:\n  build:\n    desc: Build the project\n    cmds:\n      - echo \"Building...\"\n\"\"\")\n\n    outputter = TextOutputter()\n    tasks = parse_taskfile(taskfile, \"\", outputter)\n\n    assert len(tasks) == 1\n    assert tasks[0] == (\"Other\", \"build\", \"Build the project\")\n</code></pre>"},{"location":"development/guide/#end-to-end-tests","title":"End-to-End Tests","text":"<pre><code>import subprocess\nimport sys\n\ndef test_help_command() -&gt; None:\n    \"\"\"Test that help command works.\"\"\"\n    result = subprocess.run(\n        [sys.executable, \"-m\", \"taskfile_help\", \"-h\"],\n        capture_output=True,\n        text=True,\n        check=False,\n    )\n    assert result.returncode == 0\n    assert \"Dynamic Taskfile help generator\" in result.stdout\n</code></pre>"},{"location":"development/guide/#test-coverage","title":"Test Coverage","text":"<p>Aim for &gt;90% code coverage. Check coverage report:</p> <pre><code>uv run pytest --cov=src/taskfile_help --cov-report=html\nopen htmlcov/index.html\n</code></pre>"},{"location":"development/guide/#code-style","title":"Code Style","text":""},{"location":"development/guide/#formatting","title":"Formatting","text":"<p>The project uses ruff for formatting:</p> <pre><code># Format code\nuv run ruff format src/\n\n# Check formatting\nuv run ruff format --check src/\n</code></pre>"},{"location":"development/guide/#linting","title":"Linting","text":"<p>Multiple linters ensure code quality:</p> <pre><code># Ruff (fast Python linter)\nuv run ruff check src/\n\n# MyPy (type checking)\nuv run mypy src/\n\n# Pylint (additional checks)\nuv run pylint src/\n</code></pre>"},{"location":"development/guide/#type-hints","title":"Type Hints","text":"<p>All code must include type hints:</p> <pre><code>def parse_taskfile(\n    filepath: Path,\n    namespace: str,\n    outputter: Outputter\n) -&gt; list[tuple[str, str, str]]:\n    \"\"\"Parse a Taskfile and extract tasks.\"\"\"\n    ...\n</code></pre>"},{"location":"development/guide/#docstrings","title":"Docstrings","text":"<p>Use Google-style docstrings:</p> <pre><code>def find_taskfile(search_dirs: list[Path]) -&gt; Path | None:\n    \"\"\"Find a Taskfile in the given search directories.\n\n    Args:\n        search_dirs: List of directories to search\n\n    Returns:\n        Path to the Taskfile if found, None otherwise\n\n    Raises:\n        ValueError: If search_dirs is empty\n    \"\"\"\n    ...\n</code></pre>"},{"location":"development/guide/#making-changes","title":"Making Changes","text":""},{"location":"development/guide/#1-create-a-branch","title":"1. Create a Branch","text":"<pre><code>git checkout -b feature/my-feature\n# or\ngit checkout -b fix/my-bugfix\n</code></pre>"},{"location":"development/guide/#2-make-changes","title":"2. Make Changes","text":"<ul> <li>Write code following style guidelines</li> <li>Add tests for new functionality</li> <li>Update documentation as needed</li> <li>Ensure all tests pass</li> </ul>"},{"location":"development/guide/#3-run-checks","title":"3. Run Checks","text":"<pre><code># Run all checks\ntask make\n\n# Or manually:\ntask format\ntask lint\ntask test\n</code></pre>"},{"location":"development/guide/#4-commit-changes","title":"4. Commit Changes","text":"<pre><code>git add .\ngit commit -m \"Add feature: description\"\n</code></pre> <p>Use conventional commit messages:</p> <ul> <li><code>feat:</code> New feature</li> <li><code>fix:</code> Bug fix</li> <li><code>docs:</code> Documentation changes</li> <li><code>test:</code> Test changes</li> <li><code>refactor:</code> Code refactoring</li> <li><code>chore:</code> Maintenance tasks</li> </ul>"},{"location":"development/guide/#5-push-and-create-pr","title":"5. Push and Create PR","text":"<pre><code>git push origin feature/my-feature\n</code></pre> <p>Then create a pull request on GitHub.</p>"},{"location":"development/guide/#debugging","title":"Debugging","text":""},{"location":"development/guide/#using-print-statements","title":"Using Print Statements","text":"<pre><code># Temporary debugging\nprint(f\"DEBUG: tasks = {tasks}\")\n\n# Use outputter for consistent output\noutputter.output_message(f\"DEBUG: {value}\")\n</code></pre>"},{"location":"development/guide/#using-python-debugger","title":"Using Python Debugger","text":"<pre><code>import pdb; pdb.set_trace()\n</code></pre>"},{"location":"development/guide/#running-with-verbose-output","title":"Running with Verbose Output","text":"<pre><code>taskfile-help --verbose\n</code></pre>"},{"location":"development/guide/#documentation","title":"Documentation","text":""},{"location":"development/guide/#building-documentation","title":"Building Documentation","text":"<pre><code># Build docs\ntask docs:build\n\n# Serve docs locally\ntask docs:serve\n\n# Open in browser\nopen http://127.0.0.1:8000\n</code></pre>"},{"location":"development/guide/#writing-documentation","title":"Writing Documentation","text":"<ul> <li>Use Markdown for all documentation</li> <li>Include code examples</li> <li>Add diagrams where helpful (Mermaid supported)</li> <li>Keep language clear and concise</li> </ul>"},{"location":"development/guide/#release-process","title":"Release Process","text":"<ol> <li>Update version in <code>pyproject.toml</code></li> <li>Update CHANGELOG.md</li> <li>Run all tests: <code>task make</code></li> <li>Build package: <code>task build</code></li> <li>Create git tag: <code>git tag v0.2.0</code></li> <li>Push tag: <code>git push origin v0.2.0</code></li> <li>Create GitHub release</li> <li>Publish to PyPI: <code>uv publish</code></li> </ol>"},{"location":"development/guide/#getting-help","title":"Getting Help","text":"<ul> <li>Check existing issues on GitHub</li> <li>Review documentation</li> <li>Ask questions in discussions</li> <li>Join community chat (if available)</li> </ul>"},{"location":"development/guide/#code-review-guidelines","title":"Code Review Guidelines","text":"<p>When reviewing PRs:</p> <ul> <li>Check code style and formatting</li> <li>Verify tests are included</li> <li>Ensure documentation is updated</li> <li>Test functionality locally</li> <li>Provide constructive feedback</li> </ul>"},{"location":"development/testing/","title":"Testing","text":"<p>Comprehensive testing guide for taskfile-help.</p>"},{"location":"development/testing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 unit/                    # Unit tests\n\u2502   \u251c\u2500\u2500 test_config.py\n\u2502   \u251c\u2500\u2500 test_discovery.py\n\u2502   \u251c\u2500\u2500 test_output.py\n\u2502   \u251c\u2500\u2500 test_parser.py\n\u2502   \u2514\u2500\u2500 test_taskfile_help.py\n\u2514\u2500\u2500 e2e/                     # End-to-end tests\n    \u2514\u2500\u2500 test_cli.py\n</code></pre>"},{"location":"development/testing/#running-tests","title":"Running Tests","text":"<pre><code># All tests\nuv run pytest\n\n# Specific test file\nuv run pytest tests/unit/test_parser.py\n\n# Specific test\nuv run pytest tests/unit/test_parser.py::TestParseTaskfile::test_parse_simple_taskfile\n\n# With coverage\nuv run pytest --cov=src/taskfile_help --cov-report=html\n\n# Only unit tests\nuv run pytest tests/unit/\n\n# Only e2e tests\nuv run pytest tests/e2e/\n</code></pre>"},{"location":"development/testing/#test-coverage","title":"Test Coverage","text":"<p>Current coverage: 95%</p> <p>View coverage report:</p> <pre><code>uv run pytest --cov=src/taskfile_help --cov-report=html\nopen htmlcov/index.html\n</code></pre>"},{"location":"development/testing/#writing-tests","title":"Writing Tests","text":""},{"location":"development/testing/#unit-test-example","title":"Unit Test Example","text":"<pre><code>from pathlib import Path\nimport pytest\nfrom taskfile_help.parser import parse_taskfile\nfrom taskfile_help.output import TextOutputter\n\ndef test_parse_simple_taskfile(tmp_path: Path) -&gt; None:\n    \"\"\"Test parsing a simple Taskfile.\"\"\"\n    taskfile = tmp_path / \"Taskfile.yml\"\n    taskfile.write_text(\\\"\\\"\\\"version: '3'\n\ntasks:\n  build:\n    desc: Build the project\n    cmds:\n      - echo \"Building...\"\n\\\"\\\"\\\")\n\n    outputter = TextOutputter()\n    tasks = parse_taskfile(taskfile, \"\", outputter)\n\n    assert len(tasks) == 1\n    assert tasks[0] == (\"Other\", \"build\", \"Build the project\")\n</code></pre>"},{"location":"development/testing/#e2e-test-example","title":"E2E Test Example","text":"<pre><code>import subprocess\nimport sys\n\ndef test_help_command() -&gt; None:\n    \\\"\\\"\\\"Test that help command works.\\\"\\\"\\\"\n    result = subprocess.run(\n        [sys.executable, \"-m\", \"taskfile_help\", \"-h\"],\n        capture_output=True,\n        text=True,\n        check=False,\n    )\n    assert result.returncode == 0\n    assert \"Dynamic Taskfile help generator\" in result.stdout\n</code></pre>"},{"location":"development/testing/#test-fixtures","title":"Test Fixtures","text":"<p>Common fixtures available:</p> <ul> <li><code>tmp_path</code>: Temporary directory</li> <li><code>monkeypatch</code>: Modify environment</li> <li><code>capsys</code>: Capture stdout/stderr</li> </ul>"},{"location":"development/testing/#best-practices","title":"Best Practices","text":"<ol> <li>Test one thing: Each test should verify one behavior</li> <li>Use descriptive names: Test names should describe what they test</li> <li>Arrange-Act-Assert: Structure tests clearly</li> <li>Clean up: Use fixtures for setup/teardown</li> <li>Mock external dependencies: Keep tests isolated</li> </ol>"},{"location":"reference/SUMMARY/","title":"SUMMARY","text":"<ul> <li>taskfile_help<ul> <li>config</li> <li>discovery</li> <li>output</li> <li>parser</li> <li>taskfile_help</li> </ul> </li> </ul>"},{"location":"reference/taskfile_help/","title":"Index","text":""},{"location":"reference/taskfile_help/#taskfile_help","title":"<code>taskfile_help</code>","text":""},{"location":"reference/taskfile_help/config/","title":"config","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config","title":"<code>taskfile_help.config</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Args","title":"<code>Args(namespace, no_color, search_dirs, verbose, json_output)</code>  <code>dataclass</code>","text":"<p>Parsed command-line arguments.</p>"},{"location":"reference/taskfile_help/config/#taskfile_help.config.Args.json_output","title":"<code>json_output</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Args.namespace","title":"<code>namespace</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Args.no_color","title":"<code>no_color</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Args.search_dirs","title":"<code>search_dirs</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Args.verbose","title":"<code>verbose</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Args.parse_args","title":"<code>parse_args(argv)</code>  <code>staticmethod</code>","text":"<p>Parse command line arguments using argparse.</p> <p>Parameters:</p> Name Type Description Default <code>argv</code> <code>list[str]</code> <p>List of command line arguments</p> required <p>Returns:</p> Name Type Description <code>Args</code> <code>Args</code> <p>Parsed arguments</p> Source code in <code>src/taskfile_help/config.py</code> <pre><code>@staticmethod\ndef parse_args(argv: list[str]) -&gt; \"Args\":\n    \"\"\"Parse command line arguments using argparse.\n\n    Args:\n        argv: List of command line arguments\n\n    Returns:\n        Args: Parsed arguments\n    \"\"\"\n\n    def list_of_paths(arg: str) -&gt; list[Path]:\n        # Use dict.fromkeys() to remove duplicates while preserving order (keeps first occurrence)\n        return list(dict.fromkeys(Path(p).resolve() for p in arg.split(\":\")))\n\n    parser = argparse.ArgumentParser(\n        description=\"Dynamic Taskfile help generator\",\n        add_help=True,\n        formatter_class=argparse.RawDescriptionHelpFormatter,\n    )\n    parser.add_argument(\n        \"namespace\",\n        nargs=\"?\",\n        default=\"\",\n        help=\"Namespace to show help for (e.g., 'rag', 'dev', 'main', 'all')\",\n    )\n    parser.add_argument(\n        \"--no-color\",\n        action=\"store_true\",\n        dest=\"no_color\",\n        help=\"Disable colored output\",\n    )\n    parser.add_argument(\n        \"--search-dirs\",\n        \"-s\",\n        type=list_of_paths,\n        dest=\"search_dirs\",\n        default=None,\n        help=\"Colon-separated list of directories to search for taskfiles. \"\n        \"Paths may be absolute or relative to current working directory. \"\n        \"(default: current working directory)\",\n    )\n    parser.add_argument(\n        \"--verbose\",\n        \"-v\",\n        action=\"store_true\",\n        dest=\"verbose\",\n        help=\"Show verbose output including search directories\",\n    )\n    parser.add_argument(\n        \"--json\",\n        action=\"store_true\",\n        dest=\"json_output\",\n        help=\"Output tasks in JSON format\",\n    )\n\n    parsed = parser.parse_args(argv[1:])\n    return Args(\n        namespace=parsed.namespace,\n        no_color=parsed.no_color,\n        search_dirs=parsed.search_dirs,\n        verbose=parsed.verbose,\n        json_output=parsed.json_output,\n    )\n</code></pre>"},{"location":"reference/taskfile_help/config/#taskfile_help.config.Config","title":"<code>Config(argv)</code>","text":"<p>Application configuration with derived values.</p> <p>Parameters:</p> Name Type Description Default <code>argv</code> <code>list[str]</code> <p>List of command line arguments</p> required Source code in <code>src/taskfile_help/config.py</code> <pre><code>def __init__(self, argv: list[str]) -&gt; None:\n    \"\"\"Initialize configuration from command-line arguments.\n\n    Args:\n        argv: List of command line arguments\n    \"\"\"\n    self.args = Args.parse_args(argv)\n\n    # Load configuration from pyproject.toml if available\n    pyproject_config = _load_pyproject_config()\n\n    # Colorize if output is a TTY and --no-color is not specified\n    self.colorize = sys.stdout.isatty() and not self.args.no_color\n\n    # Parse taskfile search directories\n    if self.args.search_dirs is not None:\n        # Command-line argument takes precedence\n        # Split colon-separated paths and convert to absolute Path objects\n        search_dirs = self.args.search_dirs[:]\n    elif \"search-dirs\" in pyproject_config:\n        # Use config from pyproject.toml\n        config_dirs = pyproject_config[\"search-dirs\"]\n        if isinstance(config_dirs, list):\n            search_dirs = [Path(d).resolve() for d in config_dirs if d]\n        else:\n            search_dirs = [Path(config_dirs).resolve()] if config_dirs else []\n    else:\n        # Default to current working directory\n        search_dirs = [Path.cwd()]\n\n    # Handle edge case of all-empty paths\n    if not search_dirs:\n        search_dirs = [Path.cwd()]\n\n    # Remove duplicates while preserving order (dict preserves insertion order in Python 3.7+)\n    search_dirs = list(dict.fromkeys(search_dirs))\n\n    self.discovery = TaskfileDiscovery(search_dirs)\n</code></pre>"},{"location":"reference/taskfile_help/config/#taskfile_help.config.Config.args","title":"<code>args = Args.parse_args(argv)</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Config.colorize","title":"<code>colorize = sys.stdout.isatty() and not self.args.no_color</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Config.discovery","title":"<code>discovery = TaskfileDiscovery(search_dirs)</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/config/#taskfile_help.config.Config.namespace","title":"<code>namespace</code>  <code>property</code>","text":"<p>The requested namespace.</p>"},{"location":"reference/taskfile_help/discovery/","title":"discovery","text":""},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery","title":"<code>taskfile_help.discovery</code>","text":""},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery","title":"<code>TaskfileDiscovery(search_dirs)</code>","text":"<p>Handles discovery and resolution of Taskfile paths.</p> <p>Parameters:</p> Name Type Description Default <code>search_dirs</code> <code>list[Path]</code> <p>List of directories to search for taskfiles</p> required Source code in <code>src/taskfile_help/discovery.py</code> <pre><code>def __init__(self, search_dirs: list[Path]) -&gt; None:\n    \"\"\"Initialize with search directories.\n\n    Args:\n        search_dirs: List of directories to search for taskfiles\n    \"\"\"\n    self.search_dirs = search_dirs\n</code></pre>"},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.EXTENSIONS","title":"<code>EXTENSIONS = ['.yml', '.yaml']</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.MAIN_NAMES","title":"<code>MAIN_NAMES = ['Taskfile.yml', 'Taskfile.yaml']</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.NAMESPACE_PATTERNS","title":"<code>NAMESPACE_PATTERNS = ['Taskfile-{}', 'Taskfile_{}']</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.search_dirs","title":"<code>search_dirs = search_dirs</code>  <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.find_main_taskfile","title":"<code>find_main_taskfile()</code>","text":"<p>Find the main Taskfile in the search directories.</p> <p>Returns:</p> Type Description <code>Path | None</code> <p>Path to main Taskfile if found, None otherwise</p> Source code in <code>src/taskfile_help/discovery.py</code> <pre><code>def find_main_taskfile(self) -&gt; Path | None:\n    \"\"\"Find the main Taskfile in the search directories.\n\n    Returns:\n        Path to main Taskfile if found, None otherwise\n    \"\"\"\n    for search_dir in self.search_dirs:\n        for name in self.MAIN_NAMES:\n            path = search_dir / name\n            if path.exists():\n                return path\n    return None\n</code></pre>"},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.find_namespace_taskfile","title":"<code>find_namespace_taskfile(namespace)</code>","text":"<p>Find a Taskfile for a specific namespace.</p> <p>Parameters:</p> Name Type Description Default <code>namespace</code> <code>str</code> <p>The namespace to search for (e.g., 'rag', 'dev')</p> required <p>Returns:</p> Type Description <code>Path | None</code> <p>Path to namespace Taskfile if found, None otherwise</p> Source code in <code>src/taskfile_help/discovery.py</code> <pre><code>def find_namespace_taskfile(self, namespace: str) -&gt; Path | None:\n    \"\"\"Find a Taskfile for a specific namespace.\n\n    Args:\n        namespace: The namespace to search for (e.g., 'rag', 'dev')\n\n    Returns:\n        Path to namespace Taskfile if found, None otherwise\n    \"\"\"\n    for search_dir in self.search_dirs:\n        for pattern in self.NAMESPACE_PATTERNS:\n            for ext in self.EXTENSIONS:\n                filename = pattern.format(namespace) + ext\n                path = search_dir / filename\n                if path.exists():\n                    return path\n    return None\n</code></pre>"},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.get_all_namespace_taskfiles","title":"<code>get_all_namespace_taskfiles()</code>","text":"<p>Find all namespace Taskfiles in the search directories.</p> <p>Returns:</p> Type Description <code>list[tuple[str, Path]]</code> <p>List of (namespace, path) tuples sorted by namespace</p> Source code in <code>src/taskfile_help/discovery.py</code> <pre><code>def get_all_namespace_taskfiles(self) -&gt; list[tuple[str, Path]]:\n    \"\"\"Find all namespace Taskfiles in the search directories.\n\n    Returns:\n        List of (namespace, path) tuples sorted by namespace\n    \"\"\"\n    taskfiles: list[tuple[str, Path]] = []\n\n    # Search for all namespace patterns in all search directories\n    for search_dir in self.search_dirs:\n        for pattern in self.NAMESPACE_PATTERNS:\n            for ext in self.EXTENSIONS:\n                glob_pattern = pattern.format(\"*\") + ext\n                for path in sorted(search_dir.glob(glob_pattern)):\n                    # Extract namespace from filename\n                    stem = path.stem\n                    for pat in self.NAMESPACE_PATTERNS:\n                        prefix = pat.format(\"\").rstrip(\"_\").rstrip(\"-\")\n                        if stem.startswith(prefix):\n                            # Remove prefix and separator\n                            namespace = stem.removeprefix(prefix + \"_\").removeprefix(prefix + \"-\")\n                            if namespace:  # Ensure we got a valid namespace\n                                taskfiles.append((namespace, path))\n                            break\n\n    # Remove duplicates and sort by namespace (dict preserves insertion order in Python 3.7+)\n    unique_dict = dict(sorted(taskfiles, key=lambda x: x[0]))\n    return list(unique_dict.items())\n</code></pre>"},{"location":"reference/taskfile_help/discovery/#taskfile_help.discovery.TaskfileDiscovery.get_possible_paths","title":"<code>get_possible_paths(namespace)</code>","text":"<p>Get all possible paths for a namespace (for error messages).</p> <p>Parameters:</p> Name Type Description Default <code>namespace</code> <code>str</code> <p>The namespace to get paths for</p> required <p>Returns:</p> Type Description <code>list[Path]</code> <p>List of possible paths that were checked</p> Source code in <code>src/taskfile_help/discovery.py</code> <pre><code>def get_possible_paths(self, namespace: str) -&gt; list[Path]:\n    \"\"\"Get all possible paths for a namespace (for error messages).\n\n    Args:\n        namespace: The namespace to get paths for\n\n    Returns:\n        List of possible paths that were checked\n    \"\"\"\n    paths = []\n    for search_dir in self.search_dirs:\n        if not namespace or namespace == \"main\":\n            paths.extend([search_dir / name for name in self.MAIN_NAMES])\n        else:\n            for pattern in self.NAMESPACE_PATTERNS:\n                for ext in self.EXTENSIONS:\n                    filename = pattern.format(namespace) + ext\n                    paths.append(search_dir / filename)\n    return paths\n</code></pre>"},{"location":"reference/taskfile_help/output/","title":"output","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output","title":"<code>taskfile_help.output</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.TASK_COLUMN_WIDTH","title":"<code>TASK_COLUMN_WIDTH = 20</code>  <code>module-attribute</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors","title":"<code>Colors</code>","text":"<p>ANSI color codes for terminal output.</p>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors.BOLD","title":"<code>BOLD = '\\x1b[1m'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors.CYAN","title":"<code>CYAN = '\\x1b[36m'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors.GREEN","title":"<code>GREEN = '\\x1b[32m'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors.RED","title":"<code>RED = '\\x1b[31m'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors.RESET","title":"<code>RESET = '\\x1b[0m'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors.YELLOW","title":"<code>YELLOW = '\\x1b[33m'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/taskfile_help/output/#taskfile_help.output.Colors.disable","title":"<code>disable()</code>  <code>classmethod</code>","text":"<p>Disable all colors (for piped output).</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>@classmethod\ndef disable(cls) -&gt; None:\n    \"\"\"Disable all colors (for piped output).\"\"\"\n    cls.RESET = \"\"\n    cls.BOLD = \"\"\n    cls.CYAN = \"\"\n    cls.GREEN = \"\"\n    cls.RED = \"\"\n    cls.YELLOW = \"\"\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.JsonOutputter","title":"<code>JsonOutputter</code>","text":"<p>JSON-based outputter.</p>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.JsonOutputter.output_all","title":"<code>output_all(taskfiles, output_fn=print)</code>","text":"<p>Output tasks for all taskfiles in JSON format.</p> <p>Parameters:</p> Name Type Description Default <code>taskfiles</code> <code>list[tuple[str, list[tuple[str, str, str]]]]</code> <p>List of (namespace, tasks) tuples</p> required <code>output_fn</code> <code>Callable[..., Any]</code> <p>Function to use for output (default: print)</p> <code>print</code> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_all(\n    self,\n    taskfiles: list[tuple[str, list[tuple[str, str, str]]]],\n    output_fn: Callable[..., Any] = print,\n) -&gt; None:\n    \"\"\"Output tasks for all taskfiles in JSON format.\n\n    Args:\n        taskfiles: List of (namespace, tasks) tuples\n        output_fn: Function to use for output (default: print)\n    \"\"\"\n    output = {\n        \"taskfiles\": [\n            {\n                \"namespace\": namespace,\n                \"tasks\": [\n                    {\n                        \"group\": group,\n                        \"name\": task_name,\n                        \"full_name\": f\"{namespace}:{task_name}\" if namespace else task_name,\n                        \"description\": desc,\n                    }\n                    for group, task_name, desc in tasks\n                ],\n            }\n            for namespace, tasks in taskfiles\n        ]\n    }\n    output_fn(json.dumps(output, indent=2))\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.JsonOutputter.output_error","title":"<code>output_error(message, output_fn=print)</code>","text":"<p>Output an error message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_error(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output an error message.\"\"\"\n    output = {\"error\": message}\n    output_fn(json.dumps(output), file=sys.stderr)\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.JsonOutputter.output_heading","title":"<code>output_heading(message, output_fn=print)</code>","text":"<p>Output a heading.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_heading(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a heading.\"\"\"\n    output_fn(message)\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.JsonOutputter.output_message","title":"<code>output_message(message, output_fn=print)</code>","text":"<p>Output a message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_message(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a message.\"\"\"\n    output_fn(message)\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.JsonOutputter.output_single","title":"<code>output_single(namespace, tasks, output_fn=print)</code>","text":"<p>Output tasks for a single namespace in JSON format.</p> <p>Parameters:</p> Name Type Description Default <code>namespace</code> <code>str</code> <p>The namespace (e.g., 'rag', 'dev', or '' for main)</p> required <code>tasks</code> <code>list[tuple[str, str, str]]</code> <p>List of (group, task_name, description) tuples</p> required <code>output_fn</code> <code>Callable[..., Any]</code> <p>Function to use for output (default: print)</p> <code>print</code> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_single(\n    self,\n    namespace: str,\n    tasks: list[tuple[str, str, str]],\n    output_fn: Callable[..., Any] = print,\n) -&gt; None:\n    \"\"\"Output tasks for a single namespace in JSON format.\n\n    Args:\n        namespace: The namespace (e.g., 'rag', 'dev', or '' for main)\n        tasks: List of (group, task_name, description) tuples\n        output_fn: Function to use for output (default: print)\n    \"\"\"\n    output = {\n        \"namespace\": namespace,\n        \"tasks\": [\n            {\n                \"group\": group,\n                \"name\": task_name,\n                \"full_name\": f\"{namespace}:{task_name}\" if namespace else task_name,\n                \"description\": desc,\n            }\n            for group, task_name, desc in tasks\n        ],\n    }\n    output_fn(json.dumps(output, indent=2))\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.JsonOutputter.output_warning","title":"<code>output_warning(message, output_fn=print)</code>","text":"<p>Output a warning message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_warning(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a warning message.\"\"\"\n    output = {\"warning\": message}\n    output_fn(json.dumps(output), file=sys.stderr)\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Outputter","title":"<code>Outputter</code>","text":"<p>Protocol for outputting taskfile information.</p>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Outputter.output_all","title":"<code>output_all(taskfiles, output_fn=print)</code>","text":"<p>Output tasks for all taskfiles.</p> <p>Parameters:</p> Name Type Description Default <code>taskfiles</code> <code>list[tuple[str, list[tuple[str, str, str]]]]</code> <p>List of (namespace, tasks) tuples</p> required <code>output_fn</code> <code>Callable[..., Any]</code> <p>Function to use for output (default: print)</p> <code>print</code> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_all(\n    self,\n    taskfiles: list[tuple[str, list[tuple[str, str, str]]]],\n    output_fn: Callable[..., Any] = print,\n) -&gt; None:\n    \"\"\"Output tasks for all taskfiles.\n\n    Args:\n        taskfiles: List of (namespace, tasks) tuples\n        output_fn: Function to use for output (default: print)\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Outputter.output_error","title":"<code>output_error(message, output_fn=print)</code>","text":"<p>Output an error message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_error(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output an error message.\"\"\"\n    ...\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Outputter.output_heading","title":"<code>output_heading(message, output_fn=print)</code>","text":"<p>Output a heading.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_heading(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a heading.\"\"\"\n    ...\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Outputter.output_message","title":"<code>output_message(message, output_fn=print)</code>","text":"<p>Output a message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_message(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a message.\"\"\"\n    ...\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Outputter.output_single","title":"<code>output_single(namespace, tasks, output_fn=print)</code>","text":"<p>Output tasks for a single namespace.</p> <p>Parameters:</p> Name Type Description Default <code>namespace</code> <code>str</code> <p>The namespace (e.g., 'rag', 'dev', or '' for main)</p> required <code>tasks</code> <code>list[tuple[str, str, str]]</code> <p>List of (group, task_name, description) tuples</p> required <code>output_fn</code> <code>Callable[..., Any]</code> <p>Function to use for output (default: print)</p> <code>print</code> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_single(\n    self,\n    namespace: str,\n    tasks: list[tuple[str, str, str]],\n    output_fn: Callable[..., Any] = print,\n) -&gt; None:\n    \"\"\"Output tasks for a single namespace.\n\n    Args:\n        namespace: The namespace (e.g., 'rag', 'dev', or '' for main)\n        tasks: List of (group, task_name, description) tuples\n        output_fn: Function to use for output (default: print)\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.Outputter.output_warning","title":"<code>output_warning(message, output_fn=print)</code>","text":"<p>Output a warning message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_warning(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a warning message.\"\"\"\n    ...\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.TextOutputter","title":"<code>TextOutputter</code>","text":"<p>Text-based outputter with color support.</p>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.TextOutputter.output_all","title":"<code>output_all(taskfiles, output_fn=print)</code>","text":"<p>Output tasks for all taskfiles in text format.</p> <p>Parameters:</p> Name Type Description Default <code>taskfiles</code> <code>list[tuple[str, list[tuple[str, str, str]]]]</code> <p>List of (namespace, tasks) tuples</p> required <code>output_fn</code> <code>Callable[..., Any]</code> <p>Function to use for output (default: print)</p> <code>print</code> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_all(\n    self,\n    taskfiles: list[tuple[str, list[tuple[str, str, str]]]],\n    output_fn: Callable[..., Any] = print,\n) -&gt; None:\n    \"\"\"Output tasks for all taskfiles in text format.\n\n    Args:\n        taskfiles: List of (namespace, tasks) tuples\n        output_fn: Function to use for output (default: print)\n    \"\"\"\n    for namespace, tasks in taskfiles:\n        if namespace:\n            output_fn(f\"{Colors.CYAN}{Colors.BOLD}=== {namespace.upper()} Taskfile ==={Colors.RESET}\\n\")\n        else:\n            output_fn(f\"{Colors.CYAN}{Colors.BOLD}=== Main Taskfile ==={Colors.RESET}\\n\")\n        self.output_single(namespace, tasks, output_fn)\n        output_fn(\"\")\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.TextOutputter.output_error","title":"<code>output_error(message, output_fn=print)</code>","text":"<p>Output an error message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_error(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output an error message.\"\"\"\n    output_fn(f\"{Colors.RED}Error: {message}{Colors.RESET}\", file=sys.stderr)\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.TextOutputter.output_heading","title":"<code>output_heading(message, output_fn=print)</code>","text":"<p>Output a heading.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_heading(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a heading.\"\"\"\n    output_fn(f\"{Colors.CYAN}{message}{Colors.RESET}\")\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.TextOutputter.output_message","title":"<code>output_message(message, output_fn=print)</code>","text":"<p>Output a message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_message(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a message.\"\"\"\n    output_fn(message)\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.TextOutputter.output_single","title":"<code>output_single(namespace, tasks, output_fn=print)</code>","text":"<p>Output tasks for a single namespace in text format.</p> <p>Parameters:</p> Name Type Description Default <code>namespace</code> <code>str</code> <p>The namespace (e.g., 'rag', 'dev', or '' for main)</p> required <code>tasks</code> <code>list[tuple[str, str, str]]</code> <p>List of (group, task_name, description) tuples</p> required <code>output_fn</code> <code>Callable[..., Any]</code> <p>Function to use for output (default: print)</p> <code>print</code> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_single(\n    self,\n    namespace: str,\n    tasks: list[tuple[str, str, str]],\n    output_fn: Callable[..., Any] = print,\n) -&gt; None:\n    \"\"\"Output tasks for a single namespace in text format.\n\n    Args:\n        namespace: The namespace (e.g., 'rag', 'dev', or '' for main)\n        tasks: List of (group, task_name, description) tuples\n        output_fn: Function to use for output (default: print)\n    \"\"\"\n    if not tasks:\n        output_fn(f\"{Colors.YELLOW}No public tasks found for namespace '{namespace}'{Colors.RESET}\")\n        return\n\n    # Print header\n    title = f\"{namespace.upper()} Task Commands\" if namespace else \"Task Commands\"\n    output_fn(f\"{Colors.BOLD}{Colors.CYAN}{title}:{Colors.RESET}\")\n    output_fn(\"\")\n\n    # Group tasks by their group name\n    grouped: dict[str, list[tuple[str, str]]] = {}\n    for group, task_name, desc in tasks:\n        if group not in grouped:\n            grouped[group] = []\n        grouped[group].append((task_name, desc))\n\n    # Print each group\n    for group, group_tasks in grouped.items():\n        # Print group header\n        output_fn(f\"{Colors.BOLD}{Colors.GREEN}{group}:{Colors.RESET}\")\n\n        # Print tasks in this group\n        for task_name, desc in group_tasks:\n            full_task = f\"{namespace}:{task_name}\" if namespace else task_name\n            output_fn(f\"  {Colors.CYAN}task {full_task:&lt;{TASK_COLUMN_WIDTH}}{Colors.RESET} - {desc}\")\n\n        output_fn(\"\")\n</code></pre>"},{"location":"reference/taskfile_help/output/#taskfile_help.output.TextOutputter.output_warning","title":"<code>output_warning(message, output_fn=print)</code>","text":"<p>Output a warning message.</p> Source code in <code>src/taskfile_help/output.py</code> <pre><code>def output_warning(self, message: str, output_fn: Callable[..., Any] = print) -&gt; None:\n    \"\"\"Output a warning message.\"\"\"\n    output_fn(f\"{Colors.YELLOW}Warning: {message}{Colors.RESET}\", file=sys.stderr)\n</code></pre>"},{"location":"reference/taskfile_help/parser/","title":"parser","text":""},{"location":"reference/taskfile_help/parser/#taskfile_help.parser","title":"<code>taskfile_help.parser</code>","text":""},{"location":"reference/taskfile_help/parser/#taskfile_help.parser.parse_taskfile","title":"<code>parse_taskfile(filepath, namespace, outputter)</code>","text":"<p>Parse a Taskfile and extract public tasks with their descriptions and groups.</p> <p>This parser performs line-by-line parsing of the Taskfile YAML file. It is not a YAML parser, but rather a simple parser that looks for specific patterns in the file.</p> <p>This preserves the order of group comments and tasks as they appear in the file.</p> <p>Parameters:</p> Name Type Description Default <code>filepath</code> <code>Path</code> <p>Path to the Taskfile YAML</p> required <code>namespace</code> <code>str</code> <p>The namespace prefix (e.g., 'rag', 'dev')</p> required <p>Returns:</p> Type Description <code>list[tuple[str, str, str]]</code> <p>List of (group, task_name, description) tuples</p> Source code in <code>src/taskfile_help/parser.py</code> <pre><code>def parse_taskfile(filepath: Path, namespace: str, outputter: Outputter) -&gt; list[tuple[str, str, str]]:\n    \"\"\"\n    Parse a Taskfile and extract public tasks with their descriptions and groups.\n\n    This parser performs line-by-line parsing of the Taskfile YAML file.\n    It is not a YAML parser, but rather a simple parser that looks for specific\n    patterns in the file.\n\n    This preserves the order of group comments and tasks as they appear in the file.\n\n    Args:\n        filepath: Path to the Taskfile YAML\n        namespace: The namespace prefix (e.g., 'rag', 'dev')\n\n    Returns:\n        List of (group, task_name, description) tuples\n    \"\"\"\n    tasks: list[tuple[str, str, str]] = []\n    current_group = \"Other\"\n    current_task = None\n    current_desc = None\n    is_internal = False\n    in_tasks_section = False\n\n    try:\n        with open(filepath, encoding=\"utf-8\") as f:\n            lines = f.readlines()\n    except (OSError, UnicodeDecodeError) as e:\n        outputter.output_error(f\"Error reading {filepath}: {e}\")\n        return []\n\n    for line in lines:\n        # Check if we're in the tasks section\n        if line.strip() == \"tasks:\":\n            in_tasks_section = True\n            continue\n\n        if not in_tasks_section:\n            continue\n\n        # Check for group marker\n        group_name = _extract_group_name(line)\n        if group_name:\n            _save_task_if_valid(tasks, current_group, current_task, current_desc, is_internal)\n            current_group = group_name\n            current_task = None\n            current_desc = None\n            is_internal = False\n            continue\n\n        # Check for task definition\n        task_name = _extract_task_name(line)\n        if task_name:\n            _save_task_if_valid(tasks, current_group, current_task, current_desc, is_internal)\n            current_task = task_name\n            current_desc = None\n            is_internal = False\n            continue\n\n        # If tracking a task, look for desc and internal flags\n        if current_task:\n            desc = _extract_description(line)\n            if desc:\n                current_desc = desc\n                continue\n\n            if _is_internal_task(line):\n                is_internal = True\n                continue\n\n    # Save the last task\n    _save_task_if_valid(tasks, current_group, current_task, current_desc, is_internal)\n\n    return tasks\n</code></pre>"},{"location":"reference/taskfile_help/taskfile_help/","title":"taskfile_help","text":""},{"location":"reference/taskfile_help/taskfile_help/#taskfile_help.taskfile_help","title":"<code>taskfile_help.taskfile_help</code>","text":"<p>Dynamic Taskfile help generator.</p> <p>Parses Taskfile YAML files and outputs organized, colored help text similar to <code>task --list</code>, but with automatic grouping and namespace support.</p> File Naming Conventions <ul> <li>Main Taskfile: Taskfile.yml or Taskfile.yaml</li> <li>Namespace Taskfiles: Taskfile-.yml or Taskfile-.yaml   Examples: Taskfile-rag.yml, Taskfile-dev.yml, Taskfile-agent.yml Search Behavior <ul> <li>By default, searches for taskfiles in the current working directory</li> <li>Use --search-dirs (or -s) to search in one or more directories (first match wins)</li> <li>Paths can be absolute (/path/to/dir) or relative (../dir, ./subdir)</li> <li>Relative paths are resolved from the current working directory</li> <li>Taskfiles can be located anywhere in the search path(s)</li> </ul> Task Organization <p>Tasks are automatically grouped using comment markers in the Taskfile:</p> <pre><code># === Group Name ===\ntask-name:\n  desc: Task description\n  cmds: [...]\n\ntask2-name:\n  desc: Task2 description\n  cmds: [...]\n\n# === Group2 Name ===\n</code></pre> <p>Example groups: \"Service Management\", \"Testing\", \"Build and Release\"</p> <p>The output preserves the order of groups and tasks as they appear in the file.</p> Task Visibility <ul> <li>Public tasks: Have a 'desc' field and no 'internal: true' flag</li> <li>Internal tasks: Marked with 'internal: true' (excluded from help)</li> <li>Tasks without descriptions are excluded from help output</li> </ul> Output Behavior <ul> <li>Colors enabled: When output is to a terminal (TTY) and --no-color is not specified</li> <li>Colors disabled: When output is piped, redirected, captured, or --no-color is used</li> <li>Matches the behavior of 'task --list'</li> </ul>"},{"location":"reference/taskfile_help/taskfile_help/#taskfile_help.taskfile_help.main","title":"<code>main(argv=None)</code>","text":"<p>Main entry point.</p> <p>Parameters:</p> Name Type Description Default <code>argv</code> <code>list[str] | None</code> <p>List of command line arguments (defaults to sys.argv if None)</p> <code>None</code> <p>Returns:</p> Name Type Description <code>int</code> <code>int</code> <p>Exit code</p> Source code in <code>src/taskfile_help/taskfile_help.py</code> <pre><code>def main(argv: list[str] | None = None) -&gt; int:\n    \"\"\"Main entry point.\n\n    Args:\n        argv: List of command line arguments (defaults to sys.argv if None)\n\n    Returns:\n        int: Exit code\n    \"\"\"\n    if argv is None:\n        argv = sys.argv\n    config = Config(argv)\n\n    # Select outputter based on format\n    outputter: Outputter = JsonOutputter() if config.args.json_output else TextOutputter()\n\n    # Disable colors if output is not a TTY (piped, redirected, etc.) or JSON output\n    if not config.colorize or config.args.json_output:\n        Colors.disable()\n\n    # Show verbose output if requested\n    if config.args.verbose and not config.args.json_output:\n        outputter.output_heading(\"Searching in directories:\", output_fn=lambda msg: print(msg, file=sys.stderr))\n        for search_dir in config.discovery.search_dirs:\n            outputter.output_message(f\"  {search_dir}\", output_fn=lambda msg: print(msg, file=sys.stderr))\n        outputter.output_message(\"\", output_fn=lambda msg: print(msg, file=sys.stderr))\n\n    namespace = config.namespace\n\n    # Special case: 'all' namespace shows all Taskfiles\n    if namespace == \"all\":\n        # Collect all tasks\n        taskfiles: list[tuple[str, list[tuple[str, str, str]]]] = []\n\n        main_taskfile = config.discovery.find_main_taskfile()\n        if main_taskfile:\n            tasks = parse_taskfile(main_taskfile, \"\", outputter)\n            taskfiles.append((\"\", tasks))\n\n        for ns, taskfile_path in config.discovery.get_all_namespace_taskfiles():\n            tasks = parse_taskfile(taskfile_path, ns, outputter)\n            taskfiles.append((ns, tasks))\n\n        outputter.output_all(taskfiles)\n        return 0\n\n    # Find the appropriate Taskfile\n    if not namespace or namespace == \"main\":\n        taskfile = config.discovery.find_main_taskfile()\n        namespace = \"\"  # Use empty namespace for display\n    else:\n        taskfile = config.discovery.find_namespace_taskfile(namespace)\n\n    if not taskfile:\n        possible_paths = config.discovery.get_possible_paths(namespace)\n        outputter.output_error(f\"No Taskfile found for namespace '{namespace}'\")\n        outputter.output_warning(f\"Tried: {', '.join(str(p) for p in possible_paths)}\")\n        return 1\n\n    # Parse and display tasks\n    tasks = parse_taskfile(taskfile, namespace, outputter)\n    outputter.output_single(namespace, tasks)\n    return 0\n</code></pre>"},{"location":"setup/configuration/","title":"Configuration","text":"<p>taskfile-help can be configured via command-line arguments or <code>pyproject.toml</code>.</p>"},{"location":"setup/configuration/#command-line-options","title":"Command-Line Options","text":""},{"location":"setup/configuration/#namespace-selection","title":"Namespace Selection","text":"<pre><code># Show main Taskfile\ntaskfile-help\ntaskfile-help main\n\n# Show specific namespace\ntaskfile-help dev\ntaskfile-help test\ntaskfile-help rag\n</code></pre>"},{"location":"setup/configuration/#show-all-taskfiles","title":"Show All Taskfiles","text":"<pre><code>taskfile-help all\n</code></pre> <p>Displays tasks from all Taskfiles (main + all namespaces).</p>"},{"location":"setup/configuration/#color-control","title":"Color Control","text":"<pre><code># Disable colors\ntaskfile-help --no-color\n\n# Colors are automatically disabled when:\n# - Output is piped (e.g., taskfile-help | cat)\n# - Output is redirected (e.g., taskfile-help &gt; file.txt)\n# - Using --json output\n</code></pre>"},{"location":"setup/configuration/#search-directories","title":"Search Directories","text":"<pre><code># Search in specific directory\ntaskfile-help --search-dirs /path/to/project\ntaskfile-help -s /path/to/project\n\n# Search multiple directories (first match wins)\ntaskfile-help --search-dirs /path1:/path2:/path3\ntaskfile-help -s ~/projects/main:~/projects/shared\n\n# Relative paths (resolved from current directory)\ntaskfile-help --search-dirs ../other-project\ntaskfile-help -s ./subdir:../shared\n</code></pre>"},{"location":"setup/configuration/#json-output","title":"JSON Output","text":"<pre><code>taskfile-help --json\ntaskfile-help dev --json\n</code></pre> <p>Output format:</p> <pre><code>{\n  \"tasks\": [\n    {\n      \"group\": \"Build\",\n      \"name\": \"build\",\n      \"full_name\": \"build\",\n      \"description\": \"Build the project\"\n    },\n    {\n      \"group\": \"Build\",\n      \"name\": \"compile\",\n      \"full_name\": \"compile\",\n      \"description\": \"Compile sources\"\n    }\n  ]\n}\n</code></pre> <p>For namespaces:</p> <pre><code>{\n  \"tasks\": [\n    {\n      \"group\": \"Development\",\n      \"name\": \"serve\",\n      \"full_name\": \"dev:serve\",\n      \"description\": \"Start development server\"\n    }\n  ]\n}\n</code></pre>"},{"location":"setup/configuration/#verbose-output","title":"Verbose Output","text":"<pre><code>taskfile-help --verbose\ntaskfile-help -v\n</code></pre> <p>Shows search directories being used:</p> <pre><code>Searching in directories:\n  /home/user/project\n  /home/user/shared\n</code></pre>"},{"location":"setup/configuration/#configuration-file-pyprojecttoml","title":"Configuration File (pyproject.toml)","text":"<p>You can configure default settings in <code>pyproject.toml</code>:</p> <pre><code>[tool.taskfile-help]\nsearch-dirs = [\".\", \"../shared\", \"~/common\"]\n</code></pre>"},{"location":"setup/configuration/#configuration-options","title":"Configuration Options","text":""},{"location":"setup/configuration/#search-dirs","title":"search-dirs","text":"<p>List of directories to search for Taskfiles.</p> <pre><code>[tool.taskfile-help]\n# Single directory\nsearch-dirs = [\".\"]\n\n# Multiple directories\nsearch-dirs = [\".\", \"../shared\", \"~/common\"]\n\n# Absolute and relative paths\nsearch-dirs = [\n    \".\",\n    \"../other-project\",\n    \"/opt/shared-tasks\",\n    \"~/my-tasks\"\n]\n</code></pre> <p>Note: Command-line arguments take precedence over <code>pyproject.toml</code> settings.</p>"},{"location":"setup/configuration/#file-naming-conventions","title":"File Naming Conventions","text":""},{"location":"setup/configuration/#main-taskfile","title":"Main Taskfile","text":"<p>The main Taskfile must be named:</p> <ul> <li><code>Taskfile.yml</code></li> <li><code>Taskfile.yaml</code></li> </ul>"},{"location":"setup/configuration/#namespace-taskfiles","title":"Namespace Taskfiles","text":"<p>Namespace Taskfiles follow the pattern:</p> <ul> <li><code>Taskfile-&lt;namespace&gt;.yml</code></li> <li><code>Taskfile-&lt;namespace&gt;.yaml</code></li> </ul> <p>Examples:</p> <ul> <li><code>Taskfile-dev.yml</code> \u2192 namespace: <code>dev</code></li> <li><code>Taskfile-test.yaml</code> \u2192 namespace: <code>test</code></li> <li><code>Taskfile-rag.yml</code> \u2192 namespace: <code>rag</code></li> <li><code>Taskfile-agent.yml</code> \u2192 namespace: <code>agent</code></li> </ul>"},{"location":"setup/configuration/#task-visibility-rules","title":"Task Visibility Rules","text":""},{"location":"setup/configuration/#public-tasks","title":"Public Tasks","text":"<p>Tasks are public (shown in help) when they have:</p> <ol> <li>A <code>desc</code> field</li> <li>No <code>internal: true</code> flag</li> </ol> <pre><code>tasks:\n  build:\n    desc: Build the project  # Public - has desc\n    cmds:\n      - go build\n</code></pre>"},{"location":"setup/configuration/#internal-tasks","title":"Internal Tasks","text":"<p>Tasks are internal (hidden from help) when:</p> <ol> <li>Marked with <code>internal: true</code></li> <li>Missing a <code>desc</code> field</li> </ol> <pre><code>tasks:\n  _internal:\n    desc: Internal helper\n    internal: true  # Hidden - marked internal\n    cmds:\n      - echo \"internal\"\n\n  no-desc:\n    # Hidden - no desc field\n    cmds:\n      - echo \"no description\"\n</code></pre>"},{"location":"setup/configuration/#environment-variables","title":"Environment Variables","text":"<p>taskfile-help respects standard terminal behavior:</p> <ul> <li>TTY Detection: Automatically detects if output is to a terminal</li> <li>Color Support: Colors enabled only when outputting to a TTY</li> <li>Pipe Detection: Colors disabled when output is piped or redirected</li> </ul>"},{"location":"setup/configuration/#search-path-resolution","title":"Search Path Resolution","text":"<p>When searching for Taskfiles:</p> <ol> <li> <p>Absolute paths: Used as-is    <pre><code>taskfile-help -s /opt/tasks\n</code></pre></p> </li> <li> <p>Relative paths: Resolved from current working directory    <pre><code>taskfile-help -s ../other-project\n</code></pre></p> </li> <li> <p>Home directory: Tilde expansion supported    <pre><code>taskfile-help -s ~/my-tasks\n</code></pre></p> </li> <li> <p>Multiple paths: First match wins    <pre><code>taskfile-help -s ./local:../shared:/opt/global\n</code></pre></p> </li> </ol>"},{"location":"setup/configuration/#priority-order","title":"Priority Order","text":"<p>Configuration is applied in this order (later overrides earlier):</p> <ol> <li>Default values (current directory)</li> <li><code>pyproject.toml</code> settings</li> <li>Command-line arguments</li> </ol> <p>Example:</p> <pre><code># pyproject.toml\n[tool.taskfile-help]\nsearch-dirs = [\".\", \"../shared\"]\n</code></pre> <pre><code># This overrides pyproject.toml\ntaskfile-help --search-dirs /custom/path\n</code></pre>"},{"location":"setup/configuration/#examples","title":"Examples","text":""},{"location":"setup/configuration/#project-with-shared-tasks","title":"Project with Shared Tasks","text":"<pre><code># pyproject.toml\n[tool.taskfile-help]\nsearch-dirs = [\".\", \"../shared-tasks\"]\n</code></pre> <pre><code># Uses both current dir and shared-tasks\ntaskfile-help\n\n# Override to use only current dir\ntaskfile-help --search-dirs .\n</code></pre>"},{"location":"setup/configuration/#multi-repository-setup","title":"Multi-Repository Setup","text":"<pre><code># Search across multiple repos\ntaskfile-help --search-dirs ~/repos/main:~/repos/shared:~/repos/tools\n</code></pre>"},{"location":"setup/configuration/#cicd-integration","title":"CI/CD Integration","text":"<pre><code># Disable colors for CI logs\ntaskfile-help --no-color\n\n# Export task list as JSON\ntaskfile-help --json &gt; tasks.json\n\n# Validate Taskfile has tasks\ntaskfile-help --json | jq '.tasks | length'\n</code></pre>"},{"location":"setup/installation/","title":"Installation","text":""},{"location":"setup/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.11 or higher</li> <li>No external dependencies (uses only Python standard library)</li> </ul>"},{"location":"setup/installation/#install-from-pypi","title":"Install from PyPI","text":"<pre><code>pip install taskfile-help\n</code></pre>"},{"location":"setup/installation/#install-from-source","title":"Install from Source","text":"<p>Clone the repository and install:</p> <pre><code>git clone https://github.com/royw/taskfile-help.git\ncd taskfile-help\npip install .\n</code></pre>"},{"location":"setup/installation/#development-installation","title":"Development Installation","text":"<p>For development, install with dev dependencies:</p> <pre><code>git clone https://github.com/royw/taskfile-help.git\ncd taskfile-help\nuv sync --dev\n</code></pre> <p>Or using pip:</p> <pre><code>pip install -e \".[dev]\"\n</code></pre>"},{"location":"setup/installation/#verify-installation","title":"Verify Installation","text":"<p>Check that the installation was successful:</p> <pre><code>taskfile-help --help\n</code></pre> <p>You should see the help message with all available options.</p>"},{"location":"setup/installation/#alternative-invocation-methods","title":"Alternative Invocation Methods","text":"<p>You can invoke taskfile-help in several ways:</p>"},{"location":"setup/installation/#console-script-recommended","title":"Console Script (Recommended)","text":"<pre><code>taskfile-help\n</code></pre>"},{"location":"setup/installation/#python-module","title":"Python Module","text":"<pre><code>python -m taskfile_help\n</code></pre>"},{"location":"setup/installation/#direct-python-import","title":"Direct Python Import","text":"<pre><code>from taskfile_help.taskfile_help import main\nimport sys\n\nsys.exit(main())\n</code></pre>"},{"location":"setup/installation/#upgrading","title":"Upgrading","text":"<p>To upgrade to the latest version:</p> <pre><code>pip install --upgrade taskfile-help\n</code></pre>"},{"location":"setup/installation/#uninstalling","title":"Uninstalling","text":"<p>To remove taskfile-help:</p> <pre><code>pip uninstall taskfile-help\n</code></pre>"},{"location":"setup/quickstart/","title":"Quick Start","text":"<p>This guide will help you get started with taskfile-help in minutes.</p>"},{"location":"setup/quickstart/#basic-usage","title":"Basic Usage","text":""},{"location":"setup/quickstart/#show-main-taskfile-help","title":"Show Main Taskfile Help","text":"<pre><code>taskfile-help\n# or\ntaskfile-help main\n</code></pre> <p>This displays all public tasks from <code>Taskfile.yml</code> or <code>Taskfile.yaml</code> in the current directory.</p>"},{"location":"setup/quickstart/#show-namespace-help","title":"Show Namespace Help","text":"<p>If you have namespace-specific Taskfiles (e.g., <code>Taskfile-dev.yml</code>, <code>Taskfile-test.yml</code>):</p> <pre><code>taskfile-help dev\ntaskfile-help test\n</code></pre>"},{"location":"setup/quickstart/#show-all-tasks","title":"Show All Tasks","text":"<p>Display tasks from all Taskfiles:</p> <pre><code>taskfile-help all\n</code></pre>"},{"location":"setup/quickstart/#organizing-your-taskfile","title":"Organizing Your Taskfile","text":""},{"location":"setup/quickstart/#adding-task-groups","title":"Adding Task Groups","text":"<p>Use comment markers to group related tasks:</p> <pre><code>version: '3'\n\ntasks:\n  # === Build ===\n  build:\n    desc: Build the project\n    cmds:\n      - go build\n\n  compile:\n    desc: Compile sources\n    cmds:\n      - make compile\n\n  # === Testing ===\n  test:\n    desc: Run all tests\n    cmds:\n      - go test ./...\n\n  test:unit:\n    desc: Run unit tests only\n    cmds:\n      - go test ./... -short\n</code></pre> <p>The output will be automatically grouped:</p> <pre><code>=== Build ===\n  build         Build the project\n  compile       Compile sources\n\n=== Testing ===\n  test          Run all tests\n  test:unit     Run unit tests only\n</code></pre>"},{"location":"setup/quickstart/#hiding-internal-tasks","title":"Hiding Internal Tasks","text":"<p>Mark implementation tasks as internal to hide them from help:</p> <pre><code>tasks:\n  deploy:\n    desc: Deploy the application\n    cmds:\n      - task: _build\n      - task: _push\n\n  _build:\n    desc: Internal build step\n    internal: true\n    cmds:\n      - docker build -t myapp .\n\n  _push:\n    desc: Internal push step\n    internal: true\n    cmds:\n      - docker push myapp\n</code></pre> <p>Only <code>deploy</code> will appear in the help output.</p>"},{"location":"setup/quickstart/#using-namespaces","title":"Using Namespaces","text":"<p>Create separate Taskfiles for different concerns:</p>"},{"location":"setup/quickstart/#main-taskfile-taskfileyml","title":"Main Taskfile (Taskfile.yml)","text":"<pre><code>version: '3'\n\ntasks:\n  # === Build ===\n  build:\n    desc: Build the application\n    cmds:\n      - go build\n</code></pre>"},{"location":"setup/quickstart/#development-taskfile-taskfile-devyml","title":"Development Taskfile (Taskfile-dev.yml)","text":"<pre><code>version: '3'\n\ntasks:\n  # === Development ===\n  serve:\n    desc: Start development server\n    cmds:\n      - go run main.go\n\n  watch:\n    desc: Watch for changes\n    cmds:\n      - air\n</code></pre>"},{"location":"setup/quickstart/#testing-taskfile-taskfile-testyml","title":"Testing Taskfile (Taskfile-test.yml)","text":"<pre><code>version: '3'\n\ntasks:\n  # === Testing ===\n  unit:\n    desc: Run unit tests\n    cmds:\n      - go test ./... -short\n\n  integration:\n    desc: Run integration tests\n    cmds:\n      - go test ./... -run Integration\n</code></pre> <p>Now you can access each namespace:</p> <pre><code>taskfile-help          # Main tasks\ntaskfile-help dev      # Development tasks\ntaskfile-help test     # Testing tasks\ntaskfile-help all      # All tasks from all namespaces\n</code></pre>"},{"location":"setup/quickstart/#common-options","title":"Common Options","text":""},{"location":"setup/quickstart/#disable-colors","title":"Disable Colors","text":"<pre><code>taskfile-help --no-color\n</code></pre>"},{"location":"setup/quickstart/#json-output","title":"JSON Output","text":"<pre><code>taskfile-help --json\n</code></pre> <p>Output format:</p> <pre><code>{\n  \"tasks\": [\n    {\n      \"group\": \"Build\",\n      \"name\": \"build\",\n      \"full_name\": \"build\",\n      \"description\": \"Build the project\"\n    }\n  ]\n}\n</code></pre>"},{"location":"setup/quickstart/#search-in-different-directory","title":"Search in Different Directory","text":"<pre><code>taskfile-help --search-dirs /path/to/project\ntaskfile-help -s ../other-project\n</code></pre>"},{"location":"setup/quickstart/#verbose-output","title":"Verbose Output","text":"<pre><code>taskfile-help --verbose\n</code></pre> <p>Shows which directories are being searched.</p>"},{"location":"setup/quickstart/#integration-with-taskfile","title":"Integration with Taskfile","text":"<p>Add help tasks to your Taskfile:</p> <pre><code>version: '3'\n\ntasks:\n  help:\n    desc: Show available tasks\n    cmd: taskfile-help\n    silent: true\n\n  help:all:\n    desc: Show all available tasks\n    cmd: taskfile-help all\n    silent: true\n\n  help:dev:\n    desc: Show development tasks\n    cmd: taskfile-help dev\n    silent: true\n</code></pre> <p>Now you can run:</p> <pre><code>task help\ntask help:all\ntask help:dev\n</code></pre>"},{"location":"setup/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration - Learn about advanced configuration options</li> <li>API Reference - Explore the complete API documentation</li> </ul>"}]}